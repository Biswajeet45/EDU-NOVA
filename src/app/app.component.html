<!-- ===================== NAVBAR ===================== -->
<nav class="navbar navbar-expand-lg navbar-light bg-secondary"
     style="font-family: 'Roboto', sans-serif; font-weight: bold; z-index: 2;">
  
  <a class="navbar-brand ms-3 bona-nova-sc-regular" routerLink="/welcome">
    <span class="edu-text">Edu</span><span class="nova-text">Nova</span>
  </a>

  <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
          aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="navbarNav">
    <ul class="navbar-nav ms-auto me-3">
      
      <li class="nav-item ms-3 font-weight-bold" *ngIf="shouldShow('About')">
        <button class="btn custom-btn" routerLink="/about" type="button">About</button>
      </li>

      <li class="nav-item ms-3 font-weight-bold" *ngIf="shouldShow('Courses')">
        <button class="btn custom-btn" routerLink="/courses" type="button">Courses</button>
      </li>

      <li class="nav-item ms-3 font-weight-bold" *ngIf="shouldShow('welcome')">
        <button class="btn custom-btn" routerLink="/welcome" type="button">Home</button>
      </li>

      <li class="nav-item ms-3 font-weight-bold" *ngIf="shouldShow('Login')">
        <button class="btn custom-btn" routerLink="/login" type="button">Login</button>
      </li>

      <!-- Profile Dropdown -->
      <li class="nav-item dropdown ms-3 font-weight-bold" *ngIf="shouldShow('Profile')">
        <button class="btn custom-btn dropdown-toggle" type="button" data-bs-toggle="dropdown">
          <i class="fas fa-user-circle user-icon"></i> Profile
        </button>
        <ul class="dropdown-menu dropdown-menu-end p-3 rounded-3 shadow-sm">

          <li>
            <a class="dropdown-item text-primary">
              <i class="fas fa-user-circle user-icon"></i> {{ userName }}
            </a>
          </li>
          <li>
            <a class="dropdown-item text-muted">
              <i class="fas fa-envelope user-icon"></i> {{ userEmail }}
            </a>
          </li>
          <li>
            <hr class="dropdown-divider">
          </li>

          <!-- Enrolled Courses -->
          <li *ngIf="enrolledCourses$ | async as enrolledCourses">
            <p class="dropdown-header enrolled-courses-title">ðŸ“š Enrolled Courses:</p>
            <ul *ngIf="enrolledCourses.length > 0; else noEnrolledCourses" class="list-unstyled mb-0">
              <li *ngFor="let course of enrolledCourses">
                <a class="dropdown-item enrolled-course-item" [routerLink]="['/course-details', course.id]">
                  {{ course.name }}
                </a>
              </li>
            </ul>
            <ng-template #noEnrolledCourses>
              <p class="text-light small text-center mb-0">No enrolled courses.</p>
            </ng-template>
          </li>

          <li>
            <hr class="dropdown-divider">
          </li>

          <li>
            <button class="dropdown-item text-danger fw-semibold" (click)="logout()">ðŸšª Logout</button>
          </li>

        </ul>
      </li>

    </ul>
  </div>
</nav>

<!-- ===================== ROUTER OUTLET ===================== -->
<router-outlet></router-outlet>

<!-- ===================== FOOTER ===================== -->
<footer class="footer-container bg-dark text-light pt-5 pb-3">
  <div class="container">
    <div class="row align-items-center">

      <!-- Left side: Logo + Copy -->
      <div class="col-md-4 d-flex align-items-center mb-3 mb-md-0">
        <a href="/" class="me-2 text-decoration-none">
          <img src="edu-favicon.png" alt="EduNova Logo" width="40" height="40" class="me-2">
        </a>
        <div>
          <strong>Â© {{ currentYear }} EduNova</strong><br>
          <small>All rights reserved.</small>
        </div>
      </div>

      <!-- Center: Navigation Links (optional) -->
      <div class="col-md-4 d-flex justify-content-center mb-3 mb-md-0">
        <ul class="list-unstyled d-flex gap-3 mb-0">
          <li><a class="text-light text-decoration-none footer-link" routerLink="/about">About</a></li>
          <li><a class="text-light text-decoration-none footer-link" routerLink="/courses">Courses</a></li>
          <li><a class="text-light text-decoration-none footer-link" routerLink="/welcome">Home</a></li>
        </ul>
      </div>

      <!-- Right side: Social Icons -->
      <div class="col-md-4 d-flex justify-content-md-end justify-content-center">
        <ul class="list-unstyled d-flex mb-0 gap-3">
          <li>
            <a class="social-icon instagram d-flex align-items-center justify-content-center rounded-circle" 
               href="https://www.instagram.com/_mr_biswajeet/" target="_blank" rel="noopener noreferrer">
              <i class="bi bi-instagram"></i>
            </a>
          </li>
          <li>
            <a class="social-icon twitter d-flex align-items-center justify-content-center rounded-circle" 
               href="https://x.com/Biswa42" target="_blank" rel="noopener noreferrer">
              <i class="bi bi-twitter-x"></i>
            </a>
          </li>
          <li>
            <a class="social-icon linkedin d-flex align-items-center justify-content-center rounded-circle" 
               href="https://www.linkedin.com/in/biswajeet-sahu-318419235/" target="_blank" rel="noopener noreferrer">
              <i class="bi bi-linkedin"></i>
            </a>
          </li>
        </ul>
      </div>

    </div>
  </div>
</footer>

<!-- ===================== FOOTER STYLES ===================== -->
<style>
.footer-container {
  font-family: 'Roboto', sans-serif;
}

.footer-link:hover {
  text-decoration: underline;
  color: #ffc107; /* Amber accent on hover */
}

.social-icon {
  width: 40px;
  height: 40px;
  background-color: #212529;
  color: #fff;
  transition: all 0.3s ease;
}

.social-icon:hover {
  background-color: #ffc107;
  color: #212529;
  transform: translateY(-3px);
}

.footer-container small {
  color: #adb5bd; /* Slightly lighter for copyright */
}
</style>
